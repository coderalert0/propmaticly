<div>
  <div class="py-lg-8">
    <h2>Annual Leads (<%= @leads.try(:total_count) %>)</h2>
  </div>

  <!-- Filter Form -->
  <div class="card">
    <div class="d-flex border-0 p-6">
      <div class="me-auto">
        <%= form_with method: :get, local: true do %>
          <div class="d-flex flex-wrap">
            <div class="search-container">
              <%= text_field_tag :search, params[:search], placeholder: "Search", class: "form-control" %>
            </div>
          </div>
        <% end %>
      </div>
    </div>

    <div class="card-body">
      <div>
        <table class="table align-middle table-row-dashed gy-3">
          <thead>
          <tr class="text-start text-muted fw-bold fs-7 text-uppercase gs-0">
            <th>Entity Name</th>
            <th>Penalty Imposed</th>
            <th>Chairman Name</th>
            <th>Process Name</th>
            <th>Process Address</th>
            <th>Process City</th>
            <th>Process State</th>
            <th>Process Zip</th>
            <th>Agent Name</th>
            <th>Agent Address</th>
            <th>Agent City</th>
            <th>Agent State</th>
            <th>Agent Zip</th>
          </tr>
          </thead>

          <tbody>
          <% @leads.each do |lead| %>
            <tr>
              <td><%= lead.entity_name %></td>
              <td><%= number_to_currency(lead.total_penalty_imposed) %></td>
              <td><%= lead.chairman_name %></td>
              <td><%= lead.process_name %></td>
              <td><%= lead.process_address %></td>
              <td><%= lead.process_city %></td>
              <td><%= lead.process_state %></td>
              <td><%= lead.process_zip_code %></td>
              <td><%= lead.agent_name %></td>
              <td><%= lead.agent_address %></td>
              <td><%= lead.agent_city %></td>
              <td><%= lead.agent_state %></td>
              <td><%= lead.agent_zip_code %></td>
            </tr>
          <% end %>
          </tbody>
        </table>
      </div>

      <div class="d-flex justify-content-center mt-4">
        <%= paginate @leads, theme: 'bootstrap4' %>
      </div>
    </div>
  </div>
</div>
